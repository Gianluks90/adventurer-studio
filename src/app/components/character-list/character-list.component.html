<div class="main-container">
  <div class="card-container" *ngIf="characters.length > 0">
    <div class="card-details" *ngFor="let c of characters">
      <div class="card-header">
        <img class="immagine-personaggio" *ngIf="c.informazioniBase.urlImmaginePersonaggio != ''"
          referrerpolicy="no-referrer" [src]="c.informazioniBase.urlImmaginePersonaggio">
        <img class="immagine-personaggio" *ngIf="c.informazioniBase.urlImmaginePersonaggio == ''"
          src="./assets/images/hero-placeholder.png">
        <div class="side-container">
          <div class="character-info-container">
            <div class="character-name">
              {{c.informazioniBase.nomePersonaggio}}
            </div>

            <div class="character-info" *ngIf="c.informazioniBase.classi.length > 0">
              <div class="character-class" *ngFor="let cl of c.informazioniBase.classi">
                {{cl.nome}} {{cl.livello}}Â° LV <span *ngIf="cl.sottoclasse != '';">, {{cl.sottoclasse}}</span>
              </div>
            </div>
            <div class="character-info" *ngIf="c.informazioniBase.classi.length == 0">
              Senza classe
            </div>
          </div>

        </div>
        <div class="card-body">
          <div class="button-container">
            <button as-btn [routerLink]="'/create/' + c.id" *ngIf="c.status.statusCode === 0">
              <div class="material-symbols-outlined">star</div> <div>Crea</div>
            </button>
            <button as-btn [routerLink]="'/create/' + c.id" *ngIf="c.status.statusCode === 1">
              <div class="material-symbols-outlined">edit</div> <div>Modifica</div>
            </button>
            <button as-btn [routerLink]="'/view/' + c.id" *ngIf="c.status.statusCode === 2">
              <div class="material-symbols-outlined material-no-fill">visibility</div> <div>Visualizza</div>
            </button>
            <div class="second-buttons">
              <button as-btn [routerLink]="'/levelup/' + c.id"
                [disabled]="c.status.statusCode !== 2 || c.informazioniBase.livello == 20">
                <div class="material-symbols-outlined">trending_up</div> <div>LV+</div>
              </button>
              <button as-btn as-btn-warn (click)="deleteCharacter(c.id)">
                <div class="material-symbols-outlined">delete</div> <div>Elimina</div>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="empty-card-container" *ngIf="characters.length == 0">
    <div class="empty-message">Qui puoi creare i tuoi Personaggi, premi il tasto qui sotto per iniziare.</div>
    <button class="empty-char-button" mat-raised-button color="accent" (click)="createCharacter()">Nuovo
      personaggio</button>
  </div>

  <div as-bottom-buttons-container as-bottom-left id="menu-button">
    <button as-bottom-btn (click)="openSidenav()"
    (mouseover)="tooltip.showTooltip($event, 'up-right', true, 'menu-tooltip', true)" (mouseleave)="tooltip.hideTooltip()">
      <div class="material-symbols-outlined">menu</div>
    </button>
  </div>
  <div as-bottom-buttons-container as-bottom-right id="add-button">
    <button as-bottom-btn (click)="createCharacter()" [disabled]="characters.length >= 3"
    (mouseover)="tooltip.showTooltip($event, 'up-left', true, 'add-tooltip', true)" (mouseleave)="tooltip.hideTooltip()">
      <div class="material-symbols-outlined">add</div>
    </button>
  </div>
</div>

<app-description-tooltip id="add-tooltip" info="newChar" *ngIf="tooltip.show && tooltip.id === 'add-tooltip'" [ngStyle]="{'top.px': tooltip.tooltipPosition.top, 'left.px': tooltip.tooltipPosition.left}"></app-description-tooltip>
<app-description-tooltip id="menu-tooltip" info="openSidemenu" *ngIf="tooltip.show && tooltip.id === 'menu-tooltip'" [ngStyle]="{'top.px': tooltip.tooltipPosition.top, 'left.px': tooltip.tooltipPosition.left}"></app-description-tooltip>

