<ng-container *ngIf="group && groupVita">
  <div class="step-form" [formGroup]="group">
    <mat-form-field color="accent" appearance="outline">
      <mat-label class="input-field">Classe Armatura (CA)</mat-label>
      <input class="" matInput type="number" formControlName="CA">
    </mat-form-field>

    <div class="description-text">Senza un'armatura o uno scudo, la <strong>Classe Armatura</strong> (CA) di un personaggio è pari a 10 + il suo
      Modificatore di Destrezza. Se il personaggio indossa un'armatura, trasporta uno scudo o fa entrambe le cose,
      la CA deve essere calcolata usando le regole descritte a pagina PHB 144.</div>
  </div>

  <div class="step-form" [formGroup]="group">
    <mat-form-field color="accent" appearance="outline">
      <mat-label class="input-field">Iniziativa</mat-label>
      <input class="" type="number" matInput formControlName="iniziativa" placeholder="{{modDestrezza}}">
    </mat-form-field>
    <div class="description-text">L'<strong>Iniziativa</strong> è pari al modificatore di Destrezza attuale e questo
      campo è legato alla modifica della caratteristica 'Destrezza'. Se hai un Personaggio con un'iniziativa
      personalizzata (e il Master è d'accordo) aggiorna pure questo campo ma ricorda che se modifichi la Destrezza anche
      questo campo sarà aggiornato di conseguenza.</div>
  </div>

  <div class="step-form" [formGroup]="group">
    <mat-form-field color="accent" appearance="outline">
      <mat-label class="input-field">Velocità (m)</mat-label>
      <input class="" type="number" matInput formControlName="velocita">
    </mat-form-field>
  </div>

  <div class="section-title">Punti Ferita</div>

  <div class="step-form" [formGroup]="groupVita">
    <mat-form-field color="accent" appearance="outline">
      <mat-label class="input-field">Iniziali</mat-label>
      <input class="" type="number" matInput formControlName="massimoPuntiFerita" min="1">
    </mat-form-field>

    <div class="section-title">Dadi Vita</div>

    <ng-container class="" formArrayName="dadiVita">
      <ng-container *ngFor="let d of dadiVita.controls; let i = index;">
        <div class="step-form" [formGroupName]="i">
          <div class="line-container">
            <mat-form-field class="line-input" color="accent" appearance="outline">
              <mat-label>Quantità</mat-label>
              <input #valoreRisorsa type="number" matInput formControlName="quantita" min="1"
              (change)="setValoreAttuale(i, valoreRisorsa.value)">
            </mat-form-field>
            <mat-form-field class="line-input" color="accent" appearance="outline">
              <mat-label>Tipologia</mat-label>
              <mat-select formControlName="tipologia">
                <mat-option value="d4">d4</mat-option>
                <mat-option value="d6">d6</mat-option>
                <mat-option value="d8">d8</mat-option>
                <mat-option value="d10">d10</mat-option>
                <mat-option value="d12">d12</mat-option>
                <mat-option value="d20">d20</mat-option>
              </mat-select>
            </mat-form-field>
          </div>

          <div class="delete-button">
            <button mat-raised-button color="accent" (click)="deleteDadoVita(i)">
              <mat-icon>delete</mat-icon> Rimuovi
            </button>
          </div>
        </div>
      </ng-container>
    </ng-container>

    <div class="button-container">
      <button mat-raised-button color="accent" (click)="addDadoVita()">
        <mat-icon>add</mat-icon>
        Aggiungi nuovo
      </button>
    </div>

    <!-- <mat-form-field color="accent" appearance="outline">
      <mat-label class="input-field">Totale Dadi vita e Tipo</mat-label>
      <mat-chip-grid #chipGrid>
        <mat-chip-row *ngFor="let d of dadiVita" (removed)="removeDadoVita(d)" [editable]="true"
          (edited)="editDadoVita(d, $event)">
          {{d}}
          <button matChipRemove>
            <mat-icon>cancel</mat-icon>
          </button>
        </mat-chip-row>
        <input placeholder="Aggiungi un nuovo dado" [matChipInputFor]="chipGrid"
          [matChipInputSeparatorKeyCodes]="separatorKeysCodes" [matChipInputAddOnBlur]="true"
          (matChipInputTokenEnd)="addDadoVita($event)" />

      </mat-chip-grid>
    </mat-form-field> -->

    <!-- <mat-form-field color="accent" appearance="outline">
      <mat-label class="input-field">Totale</mat-label>
      <input class="" matInput type="number" formControlName="totaleDadiVita">
    </mat-form-field>

    <mat-form-field color="accent" appearance="outline">
      <mat-label class="input-field">Tipologia</mat-label>
      <input class="" matInput formControlName="dadiVita">
    </mat-form-field> -->
  </div>
</ng-container>